* { box-sizing: border-box; }
:root { color-scheme: light dark; }
body { font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 0; }
.container { max-width: 1024px; margin: 24px auto; padding: 0 16px; }
.header { display: flex; align-items: center; gap: 12px; }
.header h1 { font-size: 20px; margin: 0; }
.header .back { text-decoration: none; color: #1166cc; }

.card { background: #fff; color: #111; border: 1px solid rgba(0,0,0,.12); border-radius: 12px; padding: 12px; margin: 12px 0; }
.card h2 { font-size: 16px; margin: 0 0 8px; }
.hint { color: #666; font-size: 12px; margin: 8px 0; padding-left: 18px; }

.modes { display: flex; gap: 16px; flex-wrap: wrap; }
.prompt { display: grid; gap: 6px; margin-top: 10px; }
textarea { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(0,0,0,.12); background: #fff; color: #111; font-size: 13px; }

.dropzone { border: 1px dashed rgba(0,0,0,.25); border-radius: 10px; padding: 12px; text-align: center; }
.dropzone input[type="file"] { display: block; margin: 8px auto; }
.preview { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 8px; margin-top: 8px; }
.preview img { width: 100%; height: 120px; object-fit: cover; border-radius: 8px; border: 1px solid rgba(0,0,0,.12); }
.actions { display: flex; gap: 8px; margin-top: 10px; }
button { appearance: none; border: 1px solid rgba(0,0,0,.15); background: #fff; color: #111; border-radius: 8px; padding: 8px 12px; cursor: pointer; }
button.secondary { background: #f6f7f8; }

.summary { font-size: 13px; color: #333; white-space: pre-wrap; }
.split { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 10px; }
.strategy-toggle { display: flex; gap: 16px; margin-bottom: 8px; }
#characters, #enemies, #plans { font-size: 13px; color: #333; white-space: pre-wrap; }

.history { font-size: 12px; color: #444; display: grid; gap: 8px; }
.history .item { padding: 8px; border: 1px solid rgba(0,0,0,.1); border-radius: 8px; background: #fff; }
.history .item h4 { margin: 0 0 4px; font-size: 13px; }
